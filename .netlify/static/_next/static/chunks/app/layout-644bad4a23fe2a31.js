(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{6353:(e,t,s)=>{"use strict";s.d(t,{AppContent:()=>eb});var a=s(95155),r=s(50395),n=s(35695),i=s(6874),o=s.n(i),d=s(53999),l=s(73783),c=s(29799),m=s(17580),u=s(37108),f=s(43332),h=s(62108),x=s(27809),p=s(57434),g=s(17576),v=s(381);let b=[{name:"Dashboard",href:"/",icon:l.A,color:"text-blue-500"},{name:"Providers",href:"/providers",icon:c.A,color:"text-green-500"},{name:"Clients",href:"/clients",icon:m.A,color:"text-purple-500"},{name:"Products",href:"/products",icon:u.A,color:"text-amber-500"},{name:"Categories",href:"/categories",icon:f.A,color:"text-pink-500"},{name:"Brands",href:"/brands",icon:h.A,color:"text-teal-500"},{name:"Orders",href:"/orders",icon:x.A,color:"text-indigo-500"},{name:"Invoices",href:"/invoices",icon:p.A,color:"text-rose-500"},{name:"Professional Domains",href:"/professional-domains",icon:g.A,color:"text-cyan-500"},{name:"Client Daily Logs",href:"/client-daily-logs",icon:m.A,color:"text-violet-500"},{name:"Order Daily Logs",href:"/order-daily-logs",icon:x.A,color:"text-orange-500"},{name:"Settings",href:"/settings",icon:v.A,color:"text-gray-500"}];function y(){let e=(0,n.usePathname)();return(0,a.jsxs)("div",{className:"flex h-full w-64 flex-col bg-card border-r border-border",children:[(0,a.jsx)("div",{className:"flex h-16 items-center px-6 border-b border-border",children:(0,a.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"\uD83C\uDDE9\uD83C\uDDFF CRM System"})}),(0,a.jsx)("nav",{className:"flex-1 space-y-1 px-3 py-4",children:b.map(t=>{let s=t.icon;return(0,a.jsxs)(o(),{href:t.href,className:(0,d.cn)("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",e===t.href?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,a.jsx)(s,{className:"mr-3 h-5 w-5 ".concat(t.color)}),(0,a.jsx)("span",{className:"hidden sm:block",children:t.name})]},t.name)})})]})}var N=s(12115),j=s(89852),w=s(97168),_=s(88145),k=s(85977);let D=N.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(k.bL,{ref:t,className:(0,d.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});D.displayName=k.bL.displayName,N.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(k._V,{ref:t,className:(0,d.cn)("aspect-square h-full w-full",s),...r})}).displayName=k._V.displayName;let A=N.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(k.H4,{ref:t,className:(0,d.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});A.displayName=k.H4.displayName;var C=s(15452),P=s(74466),F=s(54416);let S=C.bL,R=C.l9;C.bm;let L=C.ZL,O=N.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(C.hJ,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t})});O.displayName=C.hJ.displayName;let E=(0,P.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),z=N.forwardRef((e,t)=>{let{side:s="right",className:r,children:n,...i}=e,o=C.bm;return(0,a.jsxs)(L,{children:[(0,a.jsx)(O,{}),(0,a.jsxs)(C.UC,{ref:t,className:(0,d.cn)(E({side:s}),r),...i,children:[n,(0,a.jsxs)(o,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(F.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});z.displayName=C.UC.displayName,N.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(C.hE,{ref:t,className:(0,d.cn)("text-lg font-semibold text-foreground",s),...r})}).displayName=C.hE.displayName,N.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(C.VY,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",s),...r})}).displayName=C.VY.displayName;var I=s(48698),T=s(13052),U=s(5196),q=s(9428);let M=I.bL,V=I.l9;I.YJ,I.ZL,I.Pb,I.z6,N.forwardRef((e,t)=>{let{className:s,inset:r,children:n,...i}=e;return(0,a.jsxs)(I.ZP,{ref:t,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...i,children:[n,(0,a.jsx)(T.A,{className:"ml-auto"})]})}).displayName=I.ZP.displayName,N.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(I.G5,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}).displayName=I.G5.displayName;let J=N.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,a.jsx)(I.ZL,{children:(0,a.jsx)(I.UC,{ref:t,sideOffset:r,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});J.displayName=I.UC.displayName;let $=N.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(I.q7,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...n})});$.displayName=I.q7.displayName,N.forwardRef((e,t)=>{let{className:s,children:r,checked:n,...i}=e;return(0,a.jsxs)(I.H_,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(I.VF,{children:(0,a.jsx)(U.A,{className:"h-4 w-4"})})}),r]})}).displayName=I.H_.displayName,N.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(I.hN,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(I.VF,{children:(0,a.jsx)(q.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=I.hN.displayName,N.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(I.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...n})}).displayName=I.JU.displayName;let H=N.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(I.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...r})});H.displayName=I.wv.displayName;var Z=s(62098),B=s(93509),Y=s(99304);function G(){let{theme:e,setTheme:t}=(0,Y.D)();return(0,a.jsxs)(w.$,{variant:"ghost",size:"sm",onClick:()=>t("light"===e?"dark":"light"),children:[(0,a.jsx)(Z.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,a.jsx)(B.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}let K=[{name:"Dashboard",href:"/",icon:l.A},{name:"Providers",href:"/providers",icon:c.A},{name:"Clients",href:"/clients",icon:m.A},{name:"Products",href:"/products",icon:u.A},{name:"Orders",href:"/orders",icon:x.A},{name:"Invoices",href:"/invoices",icon:p.A},{name:"Professional Domains",href:"/professional-domains",icon:g.A},{name:"Client Daily Logs",href:"/client-daily-logs",icon:m.A},{name:"Order Daily Logs",href:"/order-daily-logs",icon:x.A},{name:"Settings",href:"/settings",icon:v.A}];function W(){let e=(0,n.usePathname)();return(0,a.jsxs)("div",{className:"flex h-full w-full flex-col bg-card",children:[(0,a.jsx)("div",{className:"flex h-16 items-center px-6 border-b border-border",children:(0,a.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"\uD83C\uDDE9\uD83C\uDDFF CRM System"})}),(0,a.jsx)("nav",{className:"flex-1 space-y-1 px-3 py-4",children:K.map(t=>{let s=t.icon;return(0,a.jsxs)(o(),{href:t.href,className:(0,d.cn)("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",e===t.href?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,a.jsx)(s,{className:"mr-3 h-5 w-5"}),(0,a.jsx)("span",{children:t.name})]},t.name)})})]})}var X=s(79159),Q=s(74783),ee=s(75525),et=s(47924),es=s(53904),ea=s(23861),er=s(71007),en=s(34835),ei=s(89613);let eo=ei.Kq,ed=ei.bL,el=ei.l9,ec=N.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,a.jsx)(ei.UC,{ref:t,sideOffset:r,className:(0,d.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})});ec.displayName=ei.UC.displayName;var em=s(76517),eu=s(94449);let ef=e=>{let{className:t=""}=e,{networkStatus:s,refreshData:r}=(0,X.m)();return(0,a.jsx)("div",{className:"flex items-center ".concat(t),children:"online"===s?(0,a.jsxs)("div",{className:"flex items-center text-green-600 text-xs",children:[(0,a.jsx)(em.A,{className:"h-3 w-3 mr-1"}),(0,a.jsx)("span",{children:"Online"})]}):(0,a.jsxs)("div",{className:"flex items-center text-red-600 text-xs cursor-pointer",onClick:r,children:[(0,a.jsx)(eu.A,{className:"h-3 w-3 mr-1"}),(0,a.jsx)("span",{children:"Offline (click to retry)"})]})})};function eh(e){var t;let{onSearch:s,searchPlaceholder:n="Search across all data..."}=e,[i,o]=(0,N.useState)(""),[d]=(0,N.useState)(!0),{user:l,logout:c}=(0,r.A)(),{refreshData:m,loading:u}=(0,X.m)(),f=e=>{o(e),null==s||s(e)};return(0,a.jsx)("header",{className:"bg-card border-b border-border px-4 sm:px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(S,{children:[(0,a.jsx)(R,{asChild:!0,children:(0,a.jsx)(w.$,{variant:"ghost",size:"sm",className:"md:hidden",children:(0,a.jsx)(Q.A,{className:"h-5 w-5"})})}),(0,a.jsx)(z,{side:"left",className:"p-0 w-64",children:(0,a.jsx)(W,{})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-primary-foreground font-bold text-sm",children:"CRM"})}),(0,a.jsxs)("div",{className:"hidden sm:block",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"\uD83C\uDDE9\uD83C\uDDFF Algeria CRM"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Professional Business Management"})]})]}),d&&(0,a.jsxs)(_.E,{variant:"secondary",className:"hidden sm:flex",children:[(0,a.jsx)(ee.A,{className:"w-3 h-3 mr-1"}),"Admin"]})]}),(0,a.jsx)("div",{className:"flex-1 max-w-md mx-4 sm:mx-8 hidden md:block",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(et.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,a.jsx)(j.p,{placeholder:n,value:i,onChange:e=>f(e.target.value),className:"pl-10 pr-4 bg-background border-input"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,a.jsx)(eo,{children:(0,a.jsxs)(ed,{children:[(0,a.jsx)(el,{asChild:!0,children:(0,a.jsx)("div",{className:"hidden sm:flex",children:(0,a.jsx)(ef,{})})}),(0,a.jsx)(ec,{children:"Network connection status"})]})}),(0,a.jsx)(eo,{children:(0,a.jsxs)(ed,{children:[(0,a.jsx)(el,{asChild:!0,children:(0,a.jsx)(w.$,{variant:"ghost",size:"sm",onClick:()=>{m()},disabled:u,className:u?"animate-spin":"",children:(0,a.jsx)(es.A,{className:"h-4 w-4"})})}),(0,a.jsx)(ec,{children:u?"Refreshing data...":"Refresh data"})]})}),(0,a.jsx)(w.$,{variant:"ghost",size:"sm",className:"md:hidden",children:(0,a.jsx)(et.A,{className:"h-5 w-5"})}),(0,a.jsxs)(w.$,{variant:"ghost",size:"sm",className:"relative hidden sm:flex",children:[(0,a.jsx)(ea.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-destructive text-destructive-foreground text-xs rounded-full h-5 w-5 flex items-center justify-center",children:"3"})]}),(0,a.jsx)(G,{}),(0,a.jsx)(w.$,{variant:"ghost",size:"sm",className:"hidden sm:flex",children:(0,a.jsx)(v.A,{className:"h-5 w-5"})}),(0,a.jsxs)(M,{children:[(0,a.jsx)(V,{asChild:!0,children:(0,a.jsx)(w.$,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,a.jsx)(D,{className:"h-8 w-8",children:(0,a.jsx)(A,{children:(null==l?void 0:null===(t=l.name)||void 0===t?void 0:t.charAt(0))||"U"})})})}),(0,a.jsxs)(J,{className:"w-56",align:"end",forceMount:!0,children:[(0,a.jsx)("div",{className:"flex items-center justify-start gap-2 p-2",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-1 leading-none",children:[(0,a.jsx)("p",{className:"font-medium",children:(null==l?void 0:l.name)||"User"}),(0,a.jsx)("p",{className:"w-[200px] truncate text-sm text-muted-foreground",children:(null==l?void 0:l.email)||"user@company.dz"})]})}),(0,a.jsx)(H,{}),(0,a.jsxs)($,{children:[(0,a.jsx)(er.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Profile"})]}),(0,a.jsxs)($,{children:[(0,a.jsx)(v.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Settings"})]}),(0,a.jsx)(H,{}),(0,a.jsxs)($,{onClick:c,children:[(0,a.jsx)(en.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Log out"})]})]})]})]})]})})}function ex(e){let{children:t}=e,{user:s,isLoading:i}=(0,r.A)(),o=(0,n.useRouter)();return((0,N.useEffect)(()=>{i||s||o.push("/auth/login")},[s,i,o]),i)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):s?(0,a.jsx)(a.Fragment,{children:t}):null}var ep=s(54213),eg=s(1243);let ev=e=>{let{className:t=""}=e,{error:s,errorDetails:r,clearError:n,refreshData:i}=(0,X.m)();if(!s)return null;let o=(null==r?void 0:r.status)&&r.status>=500,d=s.toLowerCase().includes("database")||s.toLowerCase().includes("sql")||s.toLowerCase().includes("query")||s.toLowerCase().includes("duplicate entry"),l=s.toLowerCase().includes("network")||s.toLowerCase().includes("fetch")||s.toLowerCase().includes("connection"),c=(null==r?void 0:r.timestamp)?new Date(r.timestamp).toLocaleTimeString():"",m=d?ep.A:l?em.A:eg.A;return(0,a.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 ".concat(t),children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(m,{className:"h-5 w-5 text-red-500"})}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-red-800",children:[o?"".concat(null==r?void 0:r.status," Error"):"Error"," ",c&&"at ".concat(c)]}),(0,a.jsxs)("button",{type:"button",className:"ml-auto bg-red-50 text-red-500 rounded-md inline-flex hover:bg-red-100",onClick:()=>n(),children:[(0,a.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,a.jsx)(F.A,{className:"h-5 w-5"})]})]}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-red-700",children:[(0,a.jsx)("p",{children:s}),(null==r?void 0:r.message)&&r.message!==s&&(0,a.jsx)("p",{className:"mt-1",children:r.message}),(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600 italic",children:d?"The database server might be down or overloaded. Please try again later or contact support.":l?"Check your internet connection and try again. The server might be unavailable.":o?"The server encountered an internal error. Our team has been notified.":"Please try refreshing the page or try again later."})]}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsxs)("button",{type:"button",className:"bg-red-100 text-red-800 hover:bg-red-200 px-3 py-1.5 rounded-md text-xs font-medium inline-flex items-center",onClick:()=>{n(),i()},children:[(0,a.jsx)(es.A,{className:"h-3 w-3 mr-1"}),"Retry"]})})]})]})})};function eb(e){let{children:t}=e,{user:s}=(0,r.A)(),i=(0,n.usePathname)();return(null==i?void 0:i.startsWith("/auth/"))?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsx)(ex,{children:(0,a.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsx)(y,{})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,a.jsx)(eh,{onSearch:()=>{},searchPlaceholder:"Search across your CRM..."}),(0,a.jsx)("div",{className:"px-4 md:px-6 pt-2",children:(0,a.jsx)(ev,{})}),(0,a.jsx)("main",{className:"flex-1 overflow-auto p-4 md:p-6",children:t})]})]})})}},19324:()=>{},50395:(e,t,s)=>{"use strict";s.d(t,{A:()=>o,AuthProvider:()=>d});var a=s(95155),r=s(12115),n=s(35695);let i=(0,r.createContext)(void 0);function o(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function d(e){let{children:t}=e,[s,o]=(0,r.useState)(null),[d,l]=(0,r.useState)(!0),c=(0,n.useRouter)();(0,r.useEffect)(()=>{(async()=>{try{if(localStorage.getItem("auth_token")){await new Promise(e=>setTimeout(e,500));let e=localStorage.getItem("user_data");e&&o(JSON.parse(e))}}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("auth_token"),localStorage.removeItem("user_data")}finally{l(!1)}})()},[]);let m=async(e,t)=>{l(!0);try{if(await new Promise(e=>setTimeout(e,1e3)),"admin@example.com"!==e||"password"!==t)return{success:!1,error:"Invalid email or password"};{let t={id:"1",name:"Admin User",email:e};return o(t),localStorage.setItem("auth_token","mock_token_"+Date.now()),localStorage.setItem("user_data",JSON.stringify(t)),c.push("/"),{success:!0}}}catch(e){return{success:!1,error:"Login failed. Please try again."}}finally{l(!1)}},u=async(e,t,s)=>{l(!0);try{await new Promise(e=>setTimeout(e,1e3));let s={id:Date.now().toString(),name:e,email:t};return o(s),localStorage.setItem("auth_token","mock_token_"+Date.now()),localStorage.setItem("user_data",JSON.stringify(s)),c.push("/"),{success:!0}}catch(e){return{success:!1,error:"Registration failed. Please try again."}}finally{l(!1)}},f=async e=>{try{return await new Promise(e=>setTimeout(e,1e3)),{success:!0}}catch(e){return{success:!1,error:"Failed to send reset email. Please try again."}}};return(0,a.jsx)(i.Provider,{value:{user:s,login:m,register:u,logout:()=>{o(null),localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),c.push("/auth/login")},forgotPassword:f,isLoading:d},children:t})}},54678:(e,t,s)=>{"use strict";s.d(t,{ToastProvider:()=>n});var a=s(95155),r=s(38543);function n(e){let{children:t}=e;return(0,a.jsxs)(a.Fragment,{children:[t,(0,a.jsx)(r.N9,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})}s(85716)},88145:(e,t,s)=>{"use strict";s.d(t,{E:()=>o});var a=s(95155);s(12115);var r=s(74466),n=s(53999);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...r})}},89852:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(95155),r=s(12115),n=s(53999);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});i.displayName="Input"},96371:(e,t,s)=>{"use strict";s.d(t,{OrderProvider:()=>d,h:()=>l});var a=s(95155),r=s(12115),n=s(31886),i=s(5749);let o=(0,r.createContext)(void 0);function d(e){let{children:t}=e,[s,d]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[m,u]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{c(!0),u(null);try{let e=((await n.N.getAll()).data||[]).map(e=>({id:e.id,orderNumber:e.order_number||"ORD-".concat(e.id.substring(0,8)),client:{id:e.client_id,name:e.client_name||"Unknown Client",email:e.client_email||"",address:e.client_address||"",phoneNumber:e.client_phone||""},items:(e.items||[]).map(e=>({id:e.id,product:{id:e.product_id,name:e.product_name||"Unknown Product",description:e.product_description||"",sellPrice:parseFloat(e.unit_price)||0},quantity:parseInt(e.quantity)||0,unitPrice:parseFloat(e.unit_price)||0,total:parseFloat(e.total)||0})),subtotal:parseFloat(e.total)||0,total:parseFloat(e.total)||0,status:e.status||"pending",orderDate:new Date(e.order_date),expectedDelivery:e.expected_delivery?new Date(e.expected_delivery):new Date,notes:e.notes||""}));d(e)}catch(e){console.error("Failed to fetch orders:",e),u(e.message||"Failed to fetch orders"),d([])}finally{c(!1)}})()},[]);let f=async e=>{try{let t=e.client_id?e:{client_id:e.client.id,order_date:e.order_date||new Date().toISOString().split("T")[0],expected_delivery:e.expectedDelivery,status:e.status||"pending",notes:e.notes,shipping_address:e.client.address,items:e.items.map(e=>({product_id:e.product.id,quantity:e.quantity,unit_price:e.unitPrice}))},s=await n.N.create(t),a={id:s.data.id,orderNumber:s.data.order_number||"ORD-".concat(s.data.id.substring(0,8)),client:{id:s.data.client_id,name:s.data.client_name||"Unknown Client",email:s.data.client_email||"",address:s.data.client_address||"",phoneNumber:s.data.client_phone||""},items:(s.data.items||[]).map(e=>({id:e.id,product:{id:e.product_id,name:e.product_name||"Unknown Product",description:e.product_description||"",sellPrice:parseFloat(e.unit_price)||0},quantity:parseInt(e.quantity)||0,unitPrice:parseFloat(e.unit_price)||0,total:parseFloat(e.total)||0})),subtotal:parseFloat(s.data.total)||0,total:parseFloat(s.data.total)||0,status:s.data.status||"pending",orderDate:new Date(s.data.order_date),expectedDelivery:s.data.expected_delivery?new Date(s.data.expected_delivery):new Date,notes:s.data.notes||""};return d(e=>[...e,a]),i.oR.success("Order #".concat(a.orderNumber," has been created successfully."),{position:"top-right",autoClose:3e3}),a}catch(e){throw console.error("Failed to add order:",e),e}},h=async(e,t)=>{try{let s=t.client_id?t:{client_id:t.client.id,order_date:t.order_date||new Date().toISOString().split("T")[0],expected_delivery:t.expectedDelivery,status:t.status||"pending",notes:t.notes,shipping_address:t.client.address,items:t.items.map(e=>({product_id:e.product.id,quantity:e.quantity,unit_price:e.unitPrice}))},a=await n.N.update(e,s),r={id:a.data.id,orderNumber:a.data.order_number||"ORD-".concat(a.data.id.substring(0,8)),client:{id:a.data.client_id,name:a.data.client_name||"Unknown Client",email:a.data.client_email||"",address:a.data.client_address||"",phoneNumber:a.data.client_phone||""},items:(a.data.items||[]).map(e=>({id:e.id,product:{id:e.product_id,name:e.product_name||"Unknown Product",description:e.product_description||"",sellPrice:parseFloat(e.unit_price)||0},quantity:parseInt(e.quantity)||0,unitPrice:parseFloat(e.unit_price)||0,total:parseFloat(e.total)||0})),subtotal:parseFloat(a.data.total)||0,total:parseFloat(a.data.total)||0,status:a.data.status||"pending",orderDate:new Date(a.data.order_date),expectedDelivery:a.data.expected_delivery?new Date(a.data.expected_delivery):new Date,notes:a.data.notes||""};return d(t=>t.map(t=>t.id===e?r:t)),r}catch(e){throw console.error("Failed to update order:",e),e}},x=async e=>{try{let t=s.find(t=>t.id===e);await n.N.delete(e),d(t=>t.filter(t=>t.id!==e)),i.oR.success("Order #".concat((null==t?void 0:t.orderNumber)||e," has been deleted successfully."),{position:"top-right",autoClose:3e3})}catch(e){throw console.error("Failed to delete order:",e),e}},p=async(e,t)=>{try{let a=await n.N.updateStatus(e,t),r=s.find(t=>t.id===e);if(!r)throw Error("Order with ID ".concat(e," not found"));let i={...r,status:a.data.status||"pending",orderDate:new Date(a.data.order_date),expectedDelivery:a.data.expected_delivery?new Date(a.data.expected_delivery):r.expectedDelivery};return d(t=>t.map(t=>t.id===e?i:t)),i}catch(e){throw console.error("Failed to update order status:",e),e}};return(0,a.jsx)(o.Provider,{value:{orders:s,loading:l,error:m,addOrder:f,updateOrder:h,deleteOrder:x,updateOrderStatus:p},children:t})}function l(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useOrders must be used within an OrderProvider");return e}},97168:(e,t,s)=>{"use strict";s.d(t,{$:()=>l,r:()=>d});var a=s(95155),r=s(12115),n=s(99708),i=s(74466),o=s(53999);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:l=!1,...c}=e,m=l?n.DX:"button";return(0,a.jsx)(m,{className:(0,o.cn)(d({variant:r,size:i,className:s})),ref:t,...c})});l.displayName="Button"},99304:(e,t,s)=>{"use strict";s.d(t,{D:()=>o,ThemeProvider:()=>i});var a=s(95155),r=s(12115);let n=(0,r.createContext)({theme:"system",setTheme:()=>null});function i(e){let{children:t,defaultTheme:s="system"}=e,[i,o]=(0,r.useState)(s),[d,l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(l(!0),"system"===i){let e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";document.documentElement.classList.add(e)}else document.documentElement.classList.add(i);return()=>{document.documentElement.classList.remove("light","dark")}},[]),(0,r.useEffect)(()=>{if(!d)return;let e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===i){let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(t);return}e.classList.add(i)},[i,d]),(0,a.jsx)(n.Provider,{value:{theme:i,setTheme:e=>{o(e)}},children:t})}let o=()=>{let e=(0,r.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},99831:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,19324,23)),Promise.resolve().then(s.bind(s,6353)),Promise.resolve().then(s.bind(s,99304)),Promise.resolve().then(s.bind(s,54678)),Promise.resolve().then(s.bind(s,50395)),Promise.resolve().then(s.bind(s,79159)),Promise.resolve().then(s.bind(s,40868)),Promise.resolve().then(s.bind(s,96371)),Promise.resolve().then(s.t.bind(s,29840,23))}},e=>{var t=t=>e(e.s=t);e.O(0,[2533,7633,4277,8543,4692,4810,7244,3816,697,868,8441,1684,7358],()=>t(99831)),_N_E=e.O()}]);